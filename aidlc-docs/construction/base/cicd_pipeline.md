# CI/CDパイプライン 基本設計

このドキュメントは、プロジェクトのCI/CD (継続的インテグレーション/継続的デリバリー) パイプラインの基本的な設計を定義します。

## CI (Continuous Integration)

- **トリガー**: `main` ブランチへのプルリクエスト作成時、および `main` ブランチへのマージ時。
- **ワークフロー**:
    1. **ビルド**: Gradleラッパー (`./gradlew build`) を使用して、プロジェクト全体をビルドします。
    2. **静的解析**:
        - `ktlint` を実行し、コーディングスタイルをチェックします。
        - `detekt` を実行し、コード品質をチェックします。
    3. **テスト**: `./gradlew test` を使用して、ユニットテストおよびインテグレーションテストを実行します。
    4. **レポート**: テストレポートと静的解析レポートをアーティファクトとして保存します。

## CD (Continuous Delivery)

- **トリガー**: `main` ブランチへのマージが成功した後、手動または自動でトリガー。
- **ワークフロー**:
    1. **Dockerイメージのビルド**: `Dockerfile` を使用してアプリケーションのDockerイメージをビルドします。
    2. **イメージのプッシュ**: ビルドしたDockerイメージをコンテナレジストリ（例: Docker Hub, Amazon ECR, Google Container Registry）にプッシュします。
    3. **デプロイ**: 新しいイメージを使用して、ステージング環境または本番環境にアプリケーションをデプロイします。（具体的なデプロイ方法は環境に依存）

## プラットフォーム

[Question] CI/CDにはどのプラットフォームを使用する予定ですか？ (例: GitHub Actions, Jenkins, etc.)
[Answer] GitHub Actions
