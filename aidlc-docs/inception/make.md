# Delivery Earnings Manager - User Stories

## 1. 概要
* **プロダクト:** 複数デリバリーサービスの報酬一元管理 Webアプリ
* **ターゲット:** スマートフォンブラウザでの利用を主とする配達員
* **MVPゴール:** 複数の稼働実績と勤怠を管理し、入金スケジュールと稼働効率（時給）を可視化する。PWA対応によりアプリライクな体験を提供する。

## 2. ユーザーペルソナ
* **名前:** 配達員 タカシさん
* **状況:** UberEats、出前館、Amazon Flexなどを掛け持ちし、日によって稼働サービスを変えている。
* **課題:** 入金管理に加え、実際に「時給換算でいくら稼げているのか」や「今日のトータル売上」が把握しきれていない。

## 3. エピックとユーザーストーリー

### Epic 1: サービス設定と支払いサイクル定義
配達員として、各サービスの「締め日」と「営業日ベースの支払日」を正確に設定したい。

* **Story 1.1:** 私は、新しいデリバリーサービスを追加・編集できる。主要サービスはプリセットから選べるが、手動で詳細設定も可能である。
* **Story 1.2:** 私は、サービスごとに支払いサイクルを高度に設定できる。
    1.  **カスタム週払い設定:** 集計期間（開始・終了曜日）と支払日（締め日から◯日後、または翌週◯曜日）を指定できる（Amazon Flex等に対応）。
    2.  **月2回 / 営業日ベース設定:** 複数の締め日を設定し、支払日を「固定日」または「締め日から◯営業日後」で指定できる（土日祝をスキップ計算）。
    3.  **手動/随時:** 自動計算を無効にする設定（Menu等の即時出金用）。
* **Story 1.3:** 私は、日本の祝日が考慮された正確な入金予定日が自動計算されることを期待する（システム側で祝日ロジックを持つ）。

### Epic 2: 日々の稼働と勤怠の記録
配達員として、稼働の開始から終了までを記録し、その日の成果をリアルタイムに把握したい。

* **Story 2.1:** 私は、業務開始時に「稼働スタート」ボタンを押し、時間を計測開始できる。
* **Story 2.2:** 私は、休憩時に「休憩」ボタン、再開時に「再開」ボタンを押し、実稼働時間を正確に記録できる。
* **Story 2.3:** 私は、配達完了のたびに（あるいは1日の終わりに）サービスごとの売上を入力できる。
* **Story 2.4:** 私は、入力画面上で「今日の売上合計（全サービス合算）」を即座に確認できる（入金日に関係なく、その日の成果としての金額）。

### Epic 3: キャッシュフローとカレンダー連携
配達員として、入金予定を把握し、個人のスケジュール帳でも管理したい。

* **Story 3.1:** 私は、ホーム画面等で直近の入金予定リストを確認できる。
* **Story 3.2:** 私は、算出された入金予定日を自分のカレンダーアプリ（Googleカレンダー、Appleカレンダー等）に登録・共有できる（リンク連携またはiCal形式等）。
* **Story 3.3:** 私は、実際に入金されたものを受取済みにし、予実管理を行うことができる。実際の入金日がズレた場合は日付を修正して確定できる。

### Epic 4: 売上と効率の分析
配達員として、期間ごとの稼ぎや、稼働効率（時給）を分析して働き方を改善したい。

* **Story 4.1:** 私は、「月ごと」および「週ごと」の売上推移と内訳グラフを確認できる。
* **Story 4.2:** 私は、Epic 2で計測した稼働時間と売上に基づき、「その日の時給（または期間平均時給）」を確認できる。これを見て、どの曜日や時間帯が稼げるかを振り返ることができる。

### Epic 5: 非機能要件・スマホ最適化（PWA）
配達員として、ネイティブアプリのような感覚で手軽に使いたい。

* **Story 5.1:** 私は、このWebアプリをスマホのホーム画面に追加（インストール）できる（PWA対応）。
* **Story 5.2:** 私は、ホーム画面のアイコンから起動した際、アドレスバーが表示されない全画面モードでアプリを利用できる。
* **Story 5.3:** 私は、ダークモードに対応したUIで、夜間の配達待機中でも目に優しく操作できる。